<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boss">

    <insert id="insertJoinedData" parameterType="boss_memberVO">
        insert into boss_member (user_id, password, store_id, accountDate, nickname)
        select m.user_id, m.password, #{store_id}, now(), m.nickName
        from mz_member m
        where m.user_id = #{user_id}
    </insert>

    <select id="boss_login" parameterType="String"
            resultType="boss_memberVO">
        select * from boss_member where user_id = #{user_id} and
        password =
        #{password}
    </select>
    <!-- 중복 체크를 위한 쿼리 -->
    <select id="checkStoreId" resultType="int">
        SELECT COUNT(*) FROM boss_member WHERE store_id = #{storeId}
    </select>
</mapper>











